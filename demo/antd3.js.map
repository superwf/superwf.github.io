{"version":3,"file":"antd3.js","mappings":"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","sources":["webpack://antd-table-scroll-xaxis-top/webpack/bootstrap","webpack://antd-table-scroll-xaxis-top/webpack/runtime/global","webpack://antd-table-scroll-xaxis-top/external var \"ReactDOM\"","webpack://antd-table-scroll-xaxis-top/external var \"antd3\"","webpack://antd-table-scroll-xaxis-top/./src/mockData.ts","webpack://antd-table-scroll-xaxis-top/external var \"React\"","webpack://antd-table-scroll-xaxis-top/./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack://antd-table-scroll-xaxis-top/./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack://antd-table-scroll-xaxis-top/./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack://antd-table-scroll-xaxis-top/./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack://antd-table-scroll-xaxis-top/./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack://antd-table-scroll-xaxis-top/./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack://antd-table-scroll-xaxis-top/./src/helper.ts","webpack://antd-table-scroll-xaxis-top/external var \"_\"","webpack://antd-table-scroll-xaxis-top/./src/lock.ts","webpack://antd-table-scroll-xaxis-top/./src/index.tsx","webpack://antd-table-scroll-xaxis-top/./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","webpack://antd-table-scroll-xaxis-top/./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack://antd-table-scroll-xaxis-top/./src/hook.ts","webpack://antd-table-scroll-xaxis-top/./src/antd3.tsx"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","const __WEBPACK_NAMESPACE_OBJECT__ = ReactDOM;","const __WEBPACK_NAMESPACE_OBJECT__ = antd3;","export const columns = Array(3)\n  .fill(1)\n  .map((_v, i) => ({\n    title: `title${i + 1}`,\n    dataIndex: `title${i + 1}`,\n    width: 1000,\n  }))\n\nexport const dataSource = Array(20)\n  .fill(1)\n  .map((_v, i) => ({\n    key: i + 1,\n    title1: i + 1,\n    title2: i + 1,\n    title3: i + 1,\n  }))\n","const __WEBPACK_NAMESPACE_OBJECT__ = React;","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// export const isAnt3Env = (wrapper: HTMLDivElement, prefixCls? = 'ant') =>\n//   wrapper.querySelector(`.${prefixCls}-table-body > table`) !== null\n\nexport const syncScrollLeft = (dom: HTMLElement, scrollLeft: number) => {\n  if (dom.scrollLeft !== scrollLeft) {\n    dom.scrollLeft = scrollLeft\n  }\n}\n\nexport const getUniqId = () => Math.random().toString().slice(12)\n","const __WEBPACK_NAMESPACE_OBJECT__ = _;","import { debounce } from 'lodash'\n\n/**\n * 为单独移动顶部或底部scroll的时候加锁\n * 否则为scrollLeft会出现互相赋值循环触发scroll事件的现象\n * 导致拖动卡顿\n *\n * 考虑到当前硬件场景，同一时间内只能用一个鼠标，因此正在被拖动的组件只能是一个，将锁放在这里而不是每个组件使用独立的锁相当于全局模式公用一个锁\n * */\nexport const lock = {\n  isScrollingTop: false,\n  isScrollingBottom: false,\n  releaseIsScrollingTop: debounce(() => {\n    lock.isScrollingTop = false\n  }, 20),\n  releaseIsScrollingBottom: debounce(() => {\n    lock.isScrollingBottom = false\n  }, 20),\n}\n","import * as React from 'react'\n\nimport { Props } from './type'\nimport { useTableTopScroll } from './hook'\nimport { errorText } from './constant'\n\nconst scrollBarWrapperStyle: React.CSSProperties = {\n  overflow: 'auto',\n}\nconst scrollBarStyle: React.CSSProperties = {\n  height: '1em',\n}\n\n/**\n * use a top scroll bar to sync the bottom xaxis scroll bar.\n * more detail see: https://github.com/superwf/antd-table-scroll-xaxis-top\n *\n * dom structor\n * div.wrapper\n *   div.scrollBar\n *   Table\n *\n * @reference\n * https://stackoverflow.com/questions/3934271/horizontal-scrollbar-on-top-and-bottom-of-table\n *\n * @example\n * ```ts\n *  <ScrollOnTableTop>\n *    <Table size=\"small\" columns={columns} scroll={{ x: 'max-content', }} />\n *  </ScrollOnTableTop>\n * ```\n * */\nexport const AntdTableScrollXaxisTop: React.FC<Props> = ({ children, debugName, prefixCls = 'ant', ...props }) => {\n  const { tableAriaId, wrapperRef, scrollBarWrapperRef, topScrollListener, scrollBarRef } = useTableTopScroll({\n    debugName,\n    prefixCls,\n    children,\n  })\n  if (children && React.isValidElement(children)) {\n    const table = React.cloneElement(children)\n    const tableId = table.props.id || tableAriaId\n    return (\n      <div ref={wrapperRef} {...props}>\n        <div\n          role=\"scrollbar\"\n          aria-controls={tableId}\n          aria-valuenow={0}\n          style={scrollBarWrapperStyle}\n          ref={scrollBarWrapperRef}\n          onScroll={topScrollListener}\n        >\n          <div ref={scrollBarRef} style={scrollBarStyle} />\n        </div>\n        <table.type id={tableId} {...table.props} />\n      </div>\n    )\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    console.error(errorText)\n  }\n  return null\n}\n","import objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import { useEffect, useState, useRef, useCallback, useMemo } from 'react'\nimport type { UIEventHandler } from 'react'\n\nimport { Props } from './type'\nimport { syncScrollLeft, getUniqId } from './helper'\nimport { lock } from './lock'\n\n/** capsule all scroll logic in a hook */\nexport const useTableTopScroll = ({ debugName, prefixCls }: Props) => {\n  const wrapperRef = useRef<HTMLDivElement>(null)\n  const scrollBarRef = useRef<HTMLDivElement>(null)\n  const scrollBarWrapperRef = useRef<HTMLDivElement>(null)\n\n  const tableAriaId = useMemo(getUniqId, [])\n\n  const log = useCallback(\n    (str: string) => console.info(`${debugName} :: AntdTableScrollXaxisTop occurs error: ${str}`),\n    [debugName],\n  )\n\n  /** use state to store querySelector results */\n  const [innerTableWrapper, setInnerTableWrapper] = useState<HTMLDivElement | null>(null)\n  const [innerTable, setInnerTable] = useState<HTMLTableElement | null>(null)\n\n  /** listen bottom scroll event，sync top scroll bar left position */\n  const bottomScrollListener = useCallback(() => {\n    if (lock.isScrollingTop) {\n      return\n    }\n    const topScrollBarWrapper = scrollBarWrapperRef.current\n    if (topScrollBarWrapper && innerTableWrapper) {\n      lock.isScrollingBottom = true\n      syncScrollLeft(topScrollBarWrapper, innerTableWrapper.scrollLeft)\n      lock.releaseIsScrollingBottom()\n    }\n  }, [innerTableWrapper])\n\n  /** listen top scroll bar event，sync bottom scroll bar left position */\n  const topScrollListener: UIEventHandler<HTMLDivElement> = useCallback(\n    e => {\n      if (lock.isScrollingBottom) {\n        return\n      }\n      if (innerTableWrapper) {\n        lock.isScrollingTop = true\n        syncScrollLeft(innerTableWrapper, e.currentTarget.scrollLeft)\n        lock.releaseIsScrollingTop()\n      }\n    },\n    [innerTableWrapper],\n  )\n\n  /** create ResizeObserver to observe table size when data fullfilled */\n  const observer = useMemo(\n    () =>\n      new ResizeObserver(mutationList => {\n        mutationList.forEach(mutation => {\n          const topScrollBar = scrollBarRef.current\n          const wrapper = wrapperRef.current\n          if (topScrollBar && wrapper) {\n            if (wrapper.clientWidth < mutation.contentRect.width) {\n              const topScrollBarWrapper = scrollBarWrapperRef.current\n              // computed scrollbar width\n              // https://stackoverflow.com/questions/13382516/getting-scroll-bar-width-using-javascript\n              if (topScrollBarWrapper) {\n                if (mutation.target?.parentElement?.parentElement) {\n                  const barWidth =\n                    mutation.target.parentElement.parentElement.clientWidth - mutation.target.parentElement.clientWidth\n                  if (barWidth > 0) {\n                    topScrollBarWrapper.style.width = `calc(100% - ${barWidth}px)`\n                  }\n                }\n              }\n              topScrollBar.style.width = `${mutation.contentRect.width}px`\n              topScrollBar.style.display = 'inherit'\n            } else {\n              topScrollBar.style.display = 'none'\n            }\n          }\n        })\n      }),\n    [],\n  )\n\n  /**\n   * destroy ResizeObserver when unmount\n   * observer will be updated，so do not return `observer.disconnect` directly\n   * */\n  useEffect(\n    () => () => {\n      observer.disconnect()\n    },\n    [observer],\n  )\n\n  /** reobserve when table updated */\n  useEffect(() => {\n    const wrapper = wrapperRef.current\n    if (wrapper) {\n      const selector = `.${prefixCls}-table-body`\n      const innerTableWrapperDom = wrapper.querySelector(selector) as HTMLDivElement\n      if (innerTableWrapper !== innerTableWrapperDom) {\n        setInnerTableWrapper(innerTableWrapperDom)\n      }\n      if (!innerTableWrapperDom && debugName) {\n        log(`\"${selector}\" not found, make sure has antd Table component as children`)\n      }\n      const innerTableDom = wrapper.querySelector(`${selector} > table`) as HTMLTableElement\n\n      if (!innerTableDom && debugName) {\n        log(`\"${selector} > table\" not found, make sure has antd Table component as children`)\n      }\n      if (innerTableDom !== innerTable) {\n        setInnerTable(innerTableDom)\n      }\n\n      if (innerTableWrapper && innerTable) {\n        observer.observe(innerTable, {\n          box: 'border-box',\n        })\n        innerTableWrapper.addEventListener('scroll', bottomScrollListener)\n      }\n    }\n    return () => {\n      if (innerTable) {\n        observer.unobserve(innerTable)\n      }\n      if (innerTableWrapper) {\n        innerTableWrapper.removeEventListener('scroll', bottomScrollListener)\n      }\n    }\n  }, [innerTable, innerTableWrapper, bottomScrollListener, observer, log])\n\n  return { wrapperRef, scrollBarWrapperRef, topScrollListener, scrollBarRef, tableAriaId }\n}\n","// import React from 'react'\nimport { render } from 'react-dom'\nimport { Table, Card } from 'antd3'\n\nimport { columns, dataSource } from './mockData'\n\nimport { AntdTableScrollXaxisTop } from '.'\n\nif ((global as any).antd3 && window.location.pathname.endsWith('/antd3.html')) {\n  const App = () => (\n    <Card title={<h2>Antd 3 example</h2>}>\n      <AntdTableScrollXaxisTop debugName=\"antd3\" className=\"ant3-wrapper\">\n        <Table scroll={{ x: 'auto', y: 300 }} columns={columns} dataSource={dataSource} />\n      </AntdTableScrollXaxisTop>\n      <AntdTableScrollXaxisTop>\n        <div />\n      </AntdTableScrollXaxisTop>\n    </Card>\n  )\n  render(<App />, document.getElementById('app'))\n}\n"],"names":["__webpack_require__","g","globalThis","this","Function","e","window","ReactDOM","antd3","columns","Array","fill","map","_v","i","title","dataIndex","width","dataSource","key","title1","title2","title3","React","_arrayLikeToArray","arr","len","length","arr2","_slicedToArray","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","err","o","minLen","n","prototype","toString","call","slice","constructor","name","from","test","TypeError","syncScrollLeft","dom","scrollLeft","getUniqId","Math","random","_","lock","isScrollingTop","isScrollingBottom","releaseIsScrollingTop","debounce","releaseIsScrollingBottom","scrollBarWrapperStyle","overflow","scrollBarStyle","height","AntdTableScrollXaxisTop","children","debugName","prefixCls","props","source","excluded","target","sourceKeys","keys","indexOf","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","wrapperRef","useRef","scrollBarRef","scrollBarWrapperRef","tableAriaId","useMemo","log","useCallback","str","console","info","useState","innerTableWrapper","setInnerTableWrapper","innerTable","setInnerTable","bottomScrollListener","topScrollBarWrapper","current","topScrollListener","currentTarget","observer","ResizeObserver","mutationList","forEach","mutation","topScrollBar","wrapper","clientWidth","contentRect","parentElement","barWidth","style","display","useEffect","disconnect","selector","innerTableWrapperDom","querySelector","innerTableDom","observe","box","addEventListener","unobserve","removeEventListener","useTableTopScroll","table","tableId","id","ref","role","onScroll","type","global","location","pathname","endsWith","App","Card","className","Table","scroll","x","y","render","document","getElementById"],"sourceRoot":""}